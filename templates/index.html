<!DOCTYPE html>
<html>

<head>
    <title>Button Click Counter</title>
    <style>
        #red-title {
            color: rgb(255, 121, 121);
        }

        .large-text {
            font-size: 10px;
        }

        .button-container {
            display: flex;
            gap: 10px;
            /* Adjust the gap to control the spacing between buttons */
        }

        .image-button {
            background: transparent;
            border: none;
            cursor: pointer;
            margin-right: 50px;
            /* Add margin to separate buttons */
        }

        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 9999;
            text-align: center;
        }

        .popup-content {
            background: #f9fec8;
            width: 300px;
            margin: 100px auto;
            padding: 20px;
            border: 1px solid #000;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyBkRztWoH2RIb9LwMB9yB2yzfFFBVacxag",
            authDomain: "lunch-feedback.firebaseapp.com",
            projectId: "lunch-feedback",
            storageBucket: "lunch-feedback.appspot.com",
            messagingSenderId: "1030662462935",
            appId: "1:1030662462935:web:bc1e374f3484d3a0a8bf92",
            measurementId: "G-JLBS8GVJ5J"
        };

        firebase.initializeApp(firebaseConfig)

    </script>
</head>

<body>
    <div class="popup" id="popup">
        <div class="popup-content">
            <p>Your pop-up content here.</p>
            <input type="text" id="popupTextInput" placeholder="Enter your text">
            <button id="submitFeedbackButton">Submit</button>
        </div>
    </div>
    <h1 id="red-title">ONE CLICK PER PERSON</h1>
    <h1>Button Click Counter</h1>
    <div class="button-container">
        <div>
            <p id="clickCount1STAR">Click count: 0</p>
            <button id="clickButton1" class="image-button">
                <i class="fa fa-star fa-2x" style="color: gold;"></i>
            </button>
        </div>
        <div>
            <p id="clickCount2STAR">Click count: 0</p>
            <button id="clickButton2" class="image-button">
                <i class="fa fa-star fa-2x" style="color: gold;"></i>
            </button>
        </div>
        <div>
            <p id="clickCount3STAR">Click count: 0</p>
            <button id="clickButton3" class="image-button">
                <i class="fa fa-star fa-2x" style="color: gold;"></i>
            </button>
        </div>
        <div>
            <p id="clickCount4STAR">Click count: 0</p>
            <button id="clickButton4" class="image-button">
                <i class="fa fa-star fa-2x" style="color: gold;"></i>
            </button>
        </div>
        <div>
            <p id="clickCount5STAR">Click count: 0</p>
            <button id="clickButton5" class="image-button">
                <i class="fa fa-star fa-2x" style="color: gold;"></i>
            </button>
        </div>
    </div>
</body>

</html>



<script>
    document.getElementById('clickButton1').addEventListener('click', function () {
        const popup = document.getElementById("popup");
        submitButton.setAttribute('data-rating',1);

        popup.style.display = "block";
    });



    document.getElementById('clickButton2').addEventListener('click', function () {
        const popup = document.getElementById("popup");
        submitButton.setAttribute('data-rating', 2);
        popup.style.display = "block";

    });
    document.getElementById('clickButton3').addEventListener('click', function () {
        const popup = document.getElementById("popup");
        submitButton.setAttribute('data-rating', 3);
        popup.style.display = "block";

    });
    document.getElementById('clickButton4').addEventListener('click', function () {
        const popup = document.getElementById("popup");
        submitButton.setAttribute('data-rating', 4);
        popup.style.display = "block";
    });
    const popup = document.getElementById("popup");
    const feedbackInput = document.getElementById('popupTextInput');
    const submitButton = document.getElementById('submitFeedbackButton');
    submitButton.addEventListener('click', function () {
        const rating = parseInt(submitButton.getAttribute('data-rating'));
        var feedback = feedbackInput.value; // Get feedback comment from input field

        // Reference to the "feedback" node in the database
        const feedbackRef = firebase.database().ref('feedback')

        // Write rating and feedback to the database
        feedbackRef.push({ rating: rating, feedback: feedback })
            .then(() => {
                console.log('Rating and feedback successfully written to the database');
                popup.style.display = "none";
                // Your existing code to update click count
            })
            .catch((error) => {
                console.error('Error writing rating and feedback to the database: ', error);
            });

    });
    document.getElementById('clickButton5').addEventListener('click', function () {
        const popup = document.getElementById("popup");
        submitButton.setAttribute('data-rating', 5);
        popup.style.display = "block";

    });
</script>
</body>

</html>